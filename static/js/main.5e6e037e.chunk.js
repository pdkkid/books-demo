(this["webpackJsonpbooks-demo"]=this["webpackJsonpbooks-demo"]||[]).push([[0],{152:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(27),o=n.n(i),s=n(74),r=(n(152),n(59)),l=n(43),j=n(25),b=n(231),d=n(238),u=n(45),h=n(7),O=function(){return Object(h.jsx)("div",{children:"Home Page"})},x=n(236),p=n(239),f=n(233),m=n(235),g=n(230),v=n(75),y=n(116),k=n.n(y),I=n(134);var S=function(e,t){var n=Object(c.useState)(e),a=Object(l.a)(n,2),i=a[0],o=a[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),i},w=n(232),C=n(117),E=n(240),B=n(241),A=Object(c.createContext)({app:{loggedIn:!1,favBooks:[]},setAppState:function(){}});function F(e){return!!Object(c.useContext)(A).app.favBooks.includes(e)}var L=w.a.Meta,T=function(e){var t=e.books,n=Object(c.useContext)(A),a=n.app,i=n.setAppState,o=function(e){a.favBooks.includes(e)?i(Object(r.a)(Object(r.a)({},a),{},{favBooks:a.favBooks.filter((function(t){return t!==e}))})):i(Object(r.a)(Object(r.a)({},a),{},{favBooks:a.favBooks.concat(e)}))};return Object(h.jsx)(p.b,{size:[12,16],wrap:!0,align:"start",style:{justifyContent:"space-evenly"},children:null===t||void 0===t?void 0:t.map((function(e){var t;return Object(h.jsx)(w.a,{extra:a.loggedIn&&(F(e)?Object(h.jsx)(E.a,{onClick:function(){return o(e)}}):Object(h.jsx)(B.a,{onClick:function(){return o(e)}})),title:Object(h.jsx)(C.a,{lines:2,children:e.volumeInfo.title}),headStyle:{textAlign:"center"},style:{width:225,flex:1},type:"inner",hoverable:!0,cover:Object(h.jsx)("img",{height:300,alt:e.volumeInfo.title,src:(null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.smallThumbnail)||"https://i.ibb.co/LxkmGDX/download.png"}),children:Object(h.jsx)(L,{title:Object(h.jsx)("span",{style:{fontSize:"12px"},children:e.volumeInfo.authors}),description:Object(h.jsx)(C.a,{lines:4,children:e.volumeInfo.description})})},e.id)}))})},z=x.a.Option,P=function(){var e=Object(c.useState)("intitle"),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),o=Object(l.a)(i,2),s=o[0],r=o[1],j=function(e,t){var n=Object(c.useState)(),a=Object(l.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)(),r=Object(l.a)(s,2),j=r[0],b=r[1],d=Object(c.useState)(!0),u=Object(l.a)(d,2),h=u[0],O=u[1];return Object(c.useEffect)((function(){""!==e&&Object(I.a)(k.a.mark((function n(){var c,a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat("https://www.googleapis.com/books/v1/volumes","?q=").concat(e,"+").concat(t,"&maxResults=40"));case 3:return c=n.sent,n.next=6,c.json();case 6:a=n.sent,o(a),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),b(n.t0);case 13:return n.prev=13,O(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])})))()}),[e,t]),{loading:h,data:i,error:j}}(S(s,500),n),b=j.data,d=j.error;return Object(h.jsxs)(c.Fragment,{children:[Object(h.jsx)(p.b,{direction:"horizontal",style:{width:"100%",justifyContent:"center"},children:Object(h.jsx)(f.a,{children:Object(h.jsxs)(f.a.Item,{style:{marginBottom:0,width:"60vw",whiteSpace:"nowrap"},children:[Object(h.jsx)(f.a.Item,{hasFeedback:!0,validateStatus:d?"error":void 0,help:d?d.message:void 0,style:{display:"inline-block",width:"calc(25% - 2px)",minWidth:"fit-content"},children:Object(h.jsxs)(x.a,{onChange:function(e){a(e)},defaultValue:"intitle",size:"large",children:[Object(h.jsx)(z,{value:"intitle",children:"Title"}),Object(h.jsx)(z,{value:"inauthor",children:"Author"}),Object(h.jsx)(z,{value:"subject",children:"Genre"})]})}),Object(h.jsx)(f.a.Item,{style:{display:"inline-block",width:"calc(75% - 2px)",margin:"0 8px"},children:Object(h.jsx)(m.a,{placeholder:"start typing to search...",size:"large",style:{minWidth:"50%",textAlign:"center"},onChange:function(e){r(e.target.value)}})})]})})}),Object(h.jsx)(g.a,{style:{margin:0}}),!b&&Object(h.jsx)(v.a,{image:v.a.PRESENTED_IMAGE_SIMPLE}),Object(h.jsx)(T,{books:null===b||void 0===b?void 0:b.items})]})},M=n(242),D=n(237),H=n(234).a.Title,G=function(){var e=Object(c.useContext)(A).app,t=e.favBooks,n=e.name,a=e.loggedIn;return Object(h.jsx)(c.Fragment,{children:a?Object(h.jsxs)(c.Fragment,{children:[Object(h.jsx)(D.a,{size:64,icon:Object(h.jsx)(M.a,{})}),Object(h.jsxs)(H,{level:2,style:{display:"inline",margin:"0 16px",verticalAlign:"middle"},children:["Hello, ",n]}),Object(h.jsx)(g.a,{children:"Your Favorites"}),t.length>0?Object(h.jsx)(T,{books:t}):Object(h.jsx)(v.a,{image:v.a.PRESENTED_IMAGE_SIMPLE,description:"Nothing here yet"})]}):Object(h.jsx)("div",{children:"You are not logged in."})})},R=n(243),_=n(244),N=(n(226),b.a.Header),J=b.a.Footer,W=b.a.Content;var Y=function(){var e=Object(j.e)(),t=Object(c.useState)({name:"My Dude",loggedIn:!1,favBooks:[]}),n=Object(l.a)(t,2),a=n[0],i=n[1],o={app:a,setAppState:i},x=function(e){i(Object(r.a)(Object(r.a)({},a),{},{loggedIn:e}))};return Object(h.jsx)(A.Provider,{value:o,children:Object(h.jsxs)(b.a,{style:{minHeight:"100vh"},children:[Object(h.jsx)(N,{children:Object(h.jsxs)(d.a,{theme:"dark",mode:"horizontal",selectedKeys:[e.pathname],style:{height:"100%"},children:[Object(h.jsxs)(d.a.Item,{children:[Object(h.jsx)("span",{children:"Home"}),Object(h.jsx)(s.b,{to:"/"})]},"/"),Object(h.jsxs)(d.a.Item,{children:[Object(h.jsx)("span",{children:"Search"}),Object(h.jsx)(s.b,{to:"/search"})]},"/search"),a.loggedIn?Object(h.jsxs)(c.Fragment,{children:[Object(h.jsx)(u.a,{placement:"bottom",title:"My Profile",children:Object(h.jsxs)(d.a.Item,{style:{marginLeft:"auto",padding:"0 15px"},children:[Object(h.jsx)(M.a,{style:{fontSize:"1.2rem"}}),Object(h.jsx)(s.b,{to:"/profile"})]},"/profile")}),Object(h.jsx)(u.a,{placement:"bottom",title:"Logout",children:Object(h.jsx)(d.a.Item,{onClick:function(){return x(!1)},style:{padding:"0 15px"},children:Object(h.jsx)(R.a,{style:{fontSize:"1.2rem"}})},"logout")})]}):Object(h.jsx)(u.a,{placement:"bottom",title:"Login",children:Object(h.jsx)(d.a.Item,{onClick:function(){return x(!0)},style:{marginLeft:"auto",padding:"0 15px"},children:Object(h.jsx)(_.a,{style:{fontSize:"1.2rem"}})},"login")})]})}),Object(h.jsxs)(W,{style:{marginTop:"24px",marginLeft:"16px",marginRight:"16px",padding:24,background:"#fff"},children:[Object(h.jsx)(j.a,{exact:!0,path:"/",component:O}),Object(h.jsx)(j.a,{path:"/search",component:P}),Object(h.jsx)(j.a,{path:"/profile",component:G})]}),Object(h.jsx)(J,{style:{textAlign:"center"},children:Object(h.jsx)("a",{href:"https://github.com/pdkkid",children:"Austin Terry \xa92021"})})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,245)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(s.a,{children:Object(h.jsx)(Y,{})})}),document.getElementById("root")),q()}},[[228,1,2]]]);
//# sourceMappingURL=main.5e6e037e.chunk.js.map